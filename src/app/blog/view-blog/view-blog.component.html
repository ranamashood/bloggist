<div class="d-flex">
  <div>
    <div class="sticky-top pt-5 pe-4">
      <button
        class="btn d-flex flex-column gap-2"
        (click)="onToggleLike()"
        *ngIf="blog$ | async as blog"
      >
        <ng-icon
          class="fs-4 text-danger"
          [class]="blog.isLiked ? 'text-danger' : 'text-body'"
          [name]="blog.isLiked ? 'bootstrapHeartFill' : 'bootstrapHeart'"
        ></ng-icon>
        <div class="fs-6">{{ blog.totalLikes }}</div>
      </button>
      <button
        class="btn d-flex flex-column gap-2"
        (click)="scroll(comments)"
        *ngIf="blog$ | async as blog"
      >
        <ng-icon class="fs-4" name="bootstrapChat"></ng-icon>
        <div class="fs-6">{{ blog.totalComments }}</div>
      </button>
    </div>
  </div>
  <div class="flex-grow-1 rounded-3 px-5 py-4 bg-body">
    <div class="pb-5">
      <div *ngIf="blog$ | async as blog">
        <div class="d-flex justify-content-between">
          <app-view-avatar
            [user]="blog.user"
            [date]="blog.createdAt | date"
          ></app-view-avatar>
          <div class="d-flex bg-danger-subtle rounded-3" *ngIf="isAuthor">
            <button class="btn btn-sm" (click)="onDeleteBlog()">Delete</button>
          </div>
        </div>
        <h1 class="py-3 fw-bold text-capitalize">{{ blog.title }}</h1>
        <div #blogContent [innerHTML]="blog.desc"></div>
      </div>
    </div>

    <hr #comments />
    <h3 class="fw-bold">Comments</h3>
    <app-add-comment [blogId]="blogId"></app-add-comment>
    <app-view-comments
      *ngIf="blog$ | async as blog"
      [blogId]="blogId"
      [blog]="blog"
    ></app-view-comments>
  </div>
  <app-table-of-content
    *ngIf="blog$ | async as blog"
    [blogId]="blogId"
    [html]="blog.desc"
  ></app-table-of-content>
</div>
